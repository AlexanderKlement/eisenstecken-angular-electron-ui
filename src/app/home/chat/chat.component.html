<div fxLayout="column" fxLayoutAlign="stretch" class="chat">
  <div class="chat-message-box" #chatMsgBox>
    <app-chat-message *ngFor="let message of messages; let last = last" [message]="message">
      {{last ? scrollToBottom() : ''}}
    </app-chat-message>
  </div>
  <div fxFlex="20" fxFlexFill>
    <form [formGroup]="chatGroup" (ngSubmit)="send()" *ngIf="recipients$ | async as recipients" fxLayout="column"
          fxLayoutAlign="flex-start stretch" fxFlexFill>
      <mat-form-field fxFlex="70">
        <mat-label>Nachricht</mat-label>
        <input id="message-input" class="form-control" formControlName="messageInput" matInput>
      </mat-form-field>
      <div fxFlex="40" fxLayout="row" fxLayoutAlign="space-evenly flex-start">
        <mat-form-field fxFlex="30">
          <mat-label>Empf√§nger</mat-label>
          <mat-select formControlName="recipientSelect">
            <mat-option *ngFor="let recipient of recipients" [value]="recipient.id">
              {{recipient.firstname}}
            </mat-option>
          </mat-select>
        </mat-form-field>
        <button [disabled]="buttonLocked" type="submit" fxFlex="30" mat-raised-button>Senden</button>
      </div>
    </form>
  </div>
</div>

